#!/bin/sh
commit_msg_file="$1"
pattern='^fix\([^)[:space:]]+\)：.+'

if ! grep -Eq "$pattern" "$commit_msg_file"; then
  echo "提交信息格式错误：必须为 fix(xx)：中文message" >&2
  echo "示例：fix(tracker)：修复实体追踪崩溃" >&2
  exit 1
fi